# Basic operations

## INSERT

Once created a table, We can easily add line in there, just like itens on a list:

```sql
INSERT INTO table_name
  (column_a, column_b, column_c)
VALUES
  (value_a, value_b, value_c)
```

## UPDATE

You've got data on your table, uh? If You need to update lines in there, use the UPDATE statement:

```sql
UPDATE
	table_name
SET
	column_a = value_a, column_b = value_b
WHERE
	column_c = value_c
```

> **Note:** Never forget the WHERE clause, unless You want to update ALL the lines from a table

## DELETE

We can delete lines from a table using the DELETE statement:

```sql
DELETE FROM
	table_name
WHERE
	column_a = value_a
```

> **Note:** Never forget the WHERE clause, unless You want to delete ALL the lines from a table

# COMMIT and ROLLBACK

I see, You deleted some important info and now are desperate to recover them... Well, You may have your salvation in here, 'cause some databases use a commit system to ensure the actions. Here is how to use them.

If You want to commit a change, just run a `COMMIT`, like at the end of you script. But if You need to revert the actions, run the `ROLLBACK`, this will undo all the INSERT, UPDATE and DELETE actions.

# Ways of inserting data

We can insert data in a table in some interesting ways, lets take a look:

**Specifying the columns and values**

```sql
INSERT INTO users
  (id, name)
VALUES
  (1, 'Edward')
```

**Specifying only the required columns**

```sql
INSERT INTO users
  (name)
VALUES
  ('Edward')
```

**Omit the column names**

```sql
INSERT INTO users
VALUES
	(DEFAULT, 'Edward')
```

**Handle date columns**

```sql
INSERT INTO tasks
	(user_id, title, completed, created_at, dead_line)
VALUES
	(1, 'Complete project report', 'N', SYSDATE, TO_DATE('2020/10/20', 'YYYY/MM/DD'));
```

**Insert using a sub query**

```sql
-- create a new table
CREATE TABLE completed_tasks (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY (
    START WITH 1 INCREMENT BY 1 MAXVALUE 10000
  ),
  user_id INTEGER,
  title VARCHAR(255),
  created_at DATE,
  dead_line DATE,

	PRIMARY KEY (id)
);

-- use the query result to insert in another table
INSERT INTO completed_tasks
  (user_id, title, created_at, dead_line)
  (
    SELECT
      user_id, title, created_at, dead_line
    FROM
      tasks
    WHERE
      completed = 'Y'
  )
```

# Exercise it!

- Create the tasks and users tables;
- Add some itens in both tables;
  - 2 users;
  - At least 5 tasks, add completed and uncompleted ones;
- Mark some tasks as completed;
- Retrieve the lines to check them;
- Ensure Your database tool is using manual commit
- Delete all items from a table, check the result and them revert it;
